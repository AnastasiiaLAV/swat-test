{"version":3,"sources":["js/animation-counter.js"],"names":["mobile","runNumbers","document","getElementById","innerHTML","check","run1","run2","run3","window","removeEventListener","throttleScroll","runall","isScrolling","requestAnimationFrame","element","el","elementBoundary","getBoundingClientRect","bottom","height","top","innerHeight","addEventListener","timer","id","b","c","d","numbers","currentNumber","maxNumber","step","steps","speed","fun","innerText","setTimeout"],"mappings":";AACE,CAGMA,IAAAA,EAAS,EAAC,GAAO,GAAO,GAI1BC,GAEFC,SAASC,eAAe,aAAaC,UAAY,IACjDF,SAASC,eAAe,aAAaC,UAAY,IACjDF,SAASC,eAAe,aAAaC,UAAY,IAC5CJ,EAQI,WACDK,EAAM,eAAiBL,EAAO,KAChCM,IACAN,EAAO,IAAK,GAEVK,EAAM,eAAiBL,EAAO,KAChCO,IACAP,EAAO,IAAK,GAEVK,EAAM,eAAiBL,EAAO,KAChCQ,IACAR,EAAO,IAAK,GAEVA,EAAO,IAAMA,EAAO,IAAMA,EAAO,IACnCS,OAAOC,oBAAoB,SAAUC,GAAgB,IArBlD,WACDN,EAAM,eACRO,IACAH,OAAOC,oBAAoB,SAAUC,GAAgB,MAwBvDE,GAAc,EAKTF,SAAAA,IACY,GAAfE,GACFJ,OAAOK,sBAAsB,WAC3Bb,IACAY,GAAc,IAGlBA,GAAc,EAGPR,SAAAA,EAAMU,GACTC,IACAC,EADKf,SAASC,eAAeY,GACRG,wBAErBC,EAASF,EAAgBE,OACzBC,EAASH,EAAgBG,OAGtBC,OAFGJ,EAAgBG,OAEbA,GAAU,GAAKA,EAASX,OAAOa,aAAeH,EAtB/DV,OAAOc,iBAAiB,SAAUZ,GAAgB,GAClDF,OAAOc,iBAAiB,OAAQtB,GAAY,GAwBtCW,IAAAA,EAAS,WACXY,EAAM,YAAa,IAAK,CAAC,EAAG,EAAG,GAAI,GACnCA,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,GAClCA,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,IAGhClB,EAAO,WACTkB,EAAM,YAAa,IAAK,CAAC,EAAG,EAAG,GAAI,IAGjCjB,EAAO,WACTiB,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,IAGhChB,EAAO,WACTgB,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,IAI3BA,SAAAA,EAAMC,EAAIC,EAAGC,EAAGC,GACnBC,IAAAA,EAAU3B,SAASC,eAAesB,GAElCK,EAAgB,EAChBC,EAAYL,EAEZM,EAAOL,EAAE,GACTM,EAAQ,CAACP,EAAQ,IAAJA,EAAUA,EAAQ,IAAJA,GAG3BQ,EAAS,IADEN,EACiBG,EAE5BI,EAAM,WACRL,GAAgCE,EAChCH,EAAQO,UAAYN,EAChBA,EAAgBC,EAClBF,EAAQO,UAAYL,EAEXD,EAAgBG,EAAM,IAC/BD,EAAOL,EAAE,GACTO,GAAgBA,EAAQ,GACxBG,WAAWF,EAAKD,IACPJ,EAAgBG,EAAM,IAC/BD,EAAOL,EAAE,GACTO,GAAgBA,EAChBG,WAAWF,EAAKD,KAEhBA,GAAgBA,EAAQ,IACxBG,WAAWF,EAAKD,KAIpBC","file":"animation-counter.49048dae.js","sourceRoot":"../src","sourcesContent":["\n  {\n    //write - let mobile = [false, false, false] - for enable mobile adnimation\n    //write - let mobile = false - for disable mobile adnimation\n    let mobile = [false, false, false];\n\n    //add event for scroll\n\n  let runNumbers = function () {\n    \n    document.getElementById('counter-1').innerHTML = \"0\";\n    document.getElementById('counter-2').innerHTML = \"0\";\n    document.getElementById('counter-3').innerHTML = \"0\";\n    if (!mobile) {\n      return function () {\n        if (check('counter-1')) {\n          runall();\n          window.removeEventListener('scroll', throttleScroll, false);\n        }\n      };\n    } else {\n      return function () {\n        if (check('counter-1') && !mobile[0]) {\n          run1();\n          mobile[0] = true;\n        }\n        if (check('counter-2') && !mobile[1]) {\n          run2();\n          mobile[1] = true;\n        }\n        if (check('counter-3') && !mobile[2]) {\n          run3();\n          mobile[2] = true;\n        }\n        if (mobile[0] && mobile[1] && mobile[2]) {\n          window.removeEventListener('scroll', throttleScroll, false);\n        }\n      };\n    }\n  }();\n    \n    let isScrolling = false;\n  window.addEventListener('scroll', throttleScroll, false);\n  window.addEventListener('load', runNumbers, false);\n    \n    //function prevents call an event more than 60 times/second\n    function throttleScroll() {\n      if (isScrolling == false) {\n        window.requestAnimationFrame(function () {\n          runNumbers();\n          isScrolling = false;\n        });\n      }\n      isScrolling = true;\n    }\n    // check if element is on a screen\n    function check(element) {\n      let el = document.getElementById(element);\n      let elementBoundary = el.getBoundingClientRect();\n\n      let bottom = elementBoundary.bottom;\n      let height = elementBoundary.height;\n      let top = elementBoundary.height;\n\n      return top + height >= 0 && height + window.innerHeight >= bottom;\n    }\n    // run animation\n    let runall = function () {\n      timer('counter-1', 721, [4, 3, 1], 3);\n      timer('counter-2', 16, [1, 1, 1], 1);\n      timer('counter-3', 84, [4, 2, 1], 4);\n    };\n\n    let run1 = function () {\n      timer('counter-1', 721, [6, 1, 1], 3);\n    };\n\n    let run2 = function () {\n      timer('counter-2', 16, [1, 1, 1], 2);\n    };\n\n    let run3 = function () {\n      timer('counter-3', 84, [4, 2, 1], 4);\n    };\n\n    //the animation \n    function timer(id, b, c, d) {\n      let numbers = document.getElementById(id);\n\n      let currentNumber = 0;\n      let maxNumber = b;\n\n      let step = c[0];\n      let steps = [b - b * 0.15, b - b * 0.09];\n\n      let duration = d;\n      let speed = (1000 * duration) / maxNumber;\n\n      let fun = function () {\n        currentNumber = currentNumber + step;\n        numbers.innerText = currentNumber;\n        if (currentNumber > maxNumber) {\n          numbers.innerText = maxNumber;\n          \n        } else if (currentNumber > steps[0]) {\n          step = c[1];\n          speed = speed + speed / 50;\n          setTimeout(fun, speed);\n        } else if (currentNumber > steps[1]) {\n          step = c[2];\n          speed = speed + speed;\n          setTimeout(fun, speed);\n        } else {\n          speed = speed + speed / 250;\n          setTimeout(fun, speed);\n        }\n      };\n\n      fun();\n    }\n  }\n\n"]}