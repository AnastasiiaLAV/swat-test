{"version":3,"sources":["js/mobile-menu.js","js/buttons.js","js/animation-counter.js","index.js"],"names":["mobileMenu","document","querySelector","openMenuBtn","closeMenuBtn","toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","bodyScrollLock","body","addEventListener","window","matchMedia","e","matches","remove","enableBodyScroll","modalWindowsArr","openButtonsArr","closeButtonsArr","forEach","element","push","i","length","openButton","console","log","closeButton","modalWindow","fun","mobile","runNumbers","getElementById","innerHTML","check","run1","run2","run3","removeEventListener","throttleScroll","runall","isScrolling","requestAnimationFrame","el","elementBoundary","getBoundingClientRect","bottom","height","top","innerHeight","timer","id","b","c","d","numbers","currentNumber","maxNumber","step","steps","speed","innerText","setTimeout"],"mappings":"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","file":"src.b3fc33ef.js","sourceRoot":"../src","sourcesContent":["(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n\n  const toggleMenu = () => {\n    const isMenuOpen = openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n\n    const scrollLockMethod = !isMenuOpen ? 'disableBodyScroll' : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  // Закрываем мобильное меню на более широких экранах\n  // в случае изменения ориентации устройства.\n  window.matchMedia('(min-width: 1280px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });\n})();\n","//\n// в массив добавляй новые значения в одинарные скобки через запятую\n//\n// в массив modalWindowsArr пиши атрибут окна, которое нужно открыть/закрыть\n// в массиве openButtonsArr будут сами записаны атрибуты кнопок открытия\n// в массиве closeButtonsArr будут сами записаны атрибуты кнопок закрытия\n// \n// создай класс \"modal-is-hidden\", впиши его во все окна, этот класс\n// должен скрывать окно,\n//\n// gl&hf\n//\n\n{\n    let modalWindowsArr = [\n        '.menu-modal', '.menu-buy-modal', \n        '.header-products-modal', '.header-how-modal', '.header-milk-modal',\n        '.product-1-modal', '.product-2-modal', '.product-3-modal',\n        '.how-read-more-modal',\n        '.contacts-location-modal', '.contacts-franchise-modal',\n    ];\n    let openButtonsArr = [];\n    let closeButtonsArr = [];\n\n    modalWindowsArr.forEach(element => {\n        openButtonsArr.push(element + '-open');\n        closeButtonsArr.push(element + '-close');\n    })\n    \n    for (let i = 0; i < openButtonsArr.length; i++) {\n                         \n        let openButton = document.querySelector(openButtonsArr[i]);\n        if (!openButton) {\n            console.log(openButtonsArr[i]);\n            continue;\n        }\n        let closeButton = document.querySelector(closeButtonsArr[i]);\n        if (!closeButton) {\n            console.log(\"Уважаемый разработчик, вы добавили кнопку открытия '\" + modalWindowsArr[i] + \"', но не добавили кнопку закрытия модалки\");\n            continue;\n        }\n        let modalWindow = document.querySelector(modalWindowsArr[i]);\n        if (!closeButton) {\n            console.log(\"Уважаемый разработчик, вы добавили кнопку открытия и закрытия '\" + modalWindowsArr[i] + \"', но не добавили модалку\");\n            continue;\n        }\n\n        let fun = function () {\n            modalWindow.classList.toggle('modal-is-hidden');\n        }\n\n        openButton.addEventListener('click', fun);\n        closeButton.addEventListener('click', fun);\n\n    }\n    \n}","\n  {\n    //write - let mobile = [false, false, false] - for enable mobile adnimation\n    //write - let mobile = false - for disable mobile adnimation\n    let mobile = [false, false, false];\n\n    //add event for scroll\n\n  let runNumbers = function () {\n    \n    document.getElementById('counter-1').innerHTML = \"0\";\n    document.getElementById('counter-2').innerHTML = \"0\";\n    document.getElementById('counter-3').innerHTML = \"0\";\n    if (!mobile) {\n      return function () {\n        if (check('counter-1')) {\n          runall();\n          window.removeEventListener('scroll', throttleScroll, false);\n        }\n      };\n    } else {\n      return function () {\n        if (check('counter-1') && !mobile[0]) {\n          run1();\n          mobile[0] = true;\n        }\n        if (check('counter-2') && !mobile[1]) {\n          run2();\n          mobile[1] = true;\n        }\n        if (check('counter-3') && !mobile[2]) {\n          run3();\n          mobile[2] = true;\n        }\n        if (mobile[0] && mobile[1] && mobile[2]) {\n          window.removeEventListener('scroll', throttleScroll, false);\n        }\n      };\n    }\n  }();\n    \n    let isScrolling = false;\n  window.addEventListener('scroll', throttleScroll, false);\n  window.addEventListener('load', runNumbers, false);\n    \n    //function prevents call an event more than 60 times/second\n    function throttleScroll() {\n      if (isScrolling == false) {\n        window.requestAnimationFrame(function () {\n          runNumbers();\n          isScrolling = false;\n        });\n      }\n      isScrolling = true;\n    }\n    // check if element is on a screen\n    function check(element) {\n      let el = document.getElementById(element);\n      let elementBoundary = el.getBoundingClientRect();\n\n      let bottom = elementBoundary.bottom;\n      let height = elementBoundary.height;\n      let top = elementBoundary.height;\n\n      return top + height >= 0 && height + window.innerHeight >= bottom;\n    }\n    // run animation\n    let runall = function () {\n      timer('counter-1', 721, [4, 3, 1], 3);\n      timer('counter-2', 16, [1, 1, 1], 1);\n      timer('counter-3', 84, [4, 2, 1], 4);\n    };\n\n    let run1 = function () {\n      timer('counter-1', 721, [6, 1, 1], 3);\n    };\n\n    let run2 = function () {\n      timer('counter-2', 16, [1, 1, 1], 2);\n    };\n\n    let run3 = function () {\n      timer('counter-3', 84, [4, 2, 1], 4);\n    };\n\n    //the animation \n    function timer(id, b, c, d) {\n      let numbers = document.getElementById(id);\n\n      let currentNumber = 0;\n      let maxNumber = b;\n\n      let step = c[0];\n      let steps = [b - b * 0.15, b - b * 0.09];\n\n      let duration = d;\n      let speed = (1000 * duration) / maxNumber;\n\n      let fun = function () {\n        currentNumber = currentNumber + step;\n        numbers.innerText = currentNumber;\n        if (currentNumber > maxNumber) {\n          numbers.innerText = maxNumber;\n          \n        } else if (currentNumber > steps[0]) {\n          step = c[1];\n          speed = speed + speed / 50;\n          setTimeout(fun, speed);\n        } else if (currentNumber > steps[1]) {\n          step = c[2];\n          speed = speed + speed;\n          setTimeout(fun, speed);\n        } else {\n          speed = speed + speed / 250;\n          setTimeout(fun, speed);\n        }\n      };\n\n      fun();\n    }\n  }\n\n","import './sass/main.scss';\nimport './js/mobile-menu';\n// import './js/modal';\nimport './js/buttons';\nimport './js/animation-counter';\n"]}