{"version":3,"sources":["js/animation-counter.js"],"names":["mobile","runNumbers","check","run1","run2","run3","window","addEventListener","throttleScroll","runall","removeEventListener","isScrolling","requestAnimationFrame","element","el","elementBoundary","document","getElementById","getBoundingClientRect","bottom","height","top","innerHeight","timer","id","b","c","d","numbers","currentNumber","maxNumber","step","steps","speed","fun","innerText","console","log","setTimeout"],"mappings":";AACE,CAGMA,IAAAA,EAAS,EAAC,GAAO,GAAO,GAIxBC,EACGD,EAQI,WACDE,EAAM,eAAiBF,EAAO,IAChCG,IACAH,EAAO,IAAK,GACHE,EAAM,eAAiBF,EAAO,IACvCI,IACAJ,EAAO,IAAK,GACHE,EAAM,eAAiBF,EAAO,KACvCK,IACAL,EAAO,IAAK,GAEVA,EAAO,IAAMA,EAAO,IAAMA,EAAO,IACnCM,OAAOC,iBAAiB,SAAUC,GAAgB,IAnB/C,WACDN,EAAM,eACRO,IACAH,OAAOI,oBAAoB,SAAUT,GAAY,KAsBrDU,GAAc,EAITH,SAAAA,IACY,GAAfG,GACFL,OAAOM,sBAAsB,WAC3BX,IACAU,GAAc,IAGlBA,GAAc,EAGPT,SAAAA,EAAMW,GACTC,IACAC,EADKC,SAASC,eAAeJ,GACRK,wBAErBC,EAASJ,EAAgBI,OACzBC,EAASL,EAAgBK,OAGtBC,OAFGN,EAAgBK,OAEbA,GAAU,GAAKA,EAASd,OAAOgB,aAAeH,EArB7Db,OAAOC,iBAAiB,SAAUC,GAAgB,GAwB9CC,IAAAA,EAAS,WACXc,EAAM,YAAa,IAAK,CAAC,EAAG,EAAG,GAAI,GACnCA,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,GAClCA,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,IAGhCpB,EAAO,WACToB,EAAM,YAAa,IAAK,CAAC,EAAG,EAAG,GAAI,IAGjCnB,EAAO,WACTmB,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,IAGhClB,EAAO,WACTkB,EAAM,YAAa,GAAI,CAAC,EAAG,EAAG,GAAI,IAI3BA,SAAAA,EAAMC,EAAIC,EAAGC,EAAGC,GACnBC,IAAAA,EAAUZ,SAASC,eAAeO,GAElCK,EAAgB,EAChBC,EAAYL,EAEZM,EAAOL,EAAE,GACTM,EAAQ,CAACP,EAAQ,IAAJA,EAAUA,EAAQ,IAAJA,GAG3BQ,EAAS,IADEN,EACiBG,EAG5BI,IAAAA,EAAM,WACRL,GAAgCE,EAChCH,EAAQO,UAAYN,EAChBA,EAAgBC,GAClBF,EAAQO,UAAYL,EACpBM,QAAQC,IAAI,WACHR,EAAgBG,EAAM,IAC/BD,EAAOL,EAAE,GACTO,GAAgBA,EAAQ,GACxBK,WAAWJ,EAAKD,IACPJ,EAAgBG,EAAM,IAC/BD,EAAOL,EAAE,GACTO,GAAgBA,EAChBK,WAAWJ,EAAKD,KAEhBA,GAAgBA,EAAQ,IACxBK,WAAWJ,EAAKD,KAIpBC","file":"animation-counter.db9849d2.js","sourceRoot":"../src","sourcesContent":["\n  {\n    //write - let mobile = [false, false, false] - for enable mobile adnimation\n    //write - let mobile = false - for disable mobile adnimation\n    let mobile = [false, false, false];\n\n    //add event for scroll\n\n    let runNumbers = (function () {\n      if (!mobile) {\n        return function () {\n          if (check('counter-1')) {\n            runall();\n            window.removeEventListener('scroll', runNumbers, false);\n          }\n        };\n      } else {\n        return function () {\n          if (check('counter-1') && !mobile[0]) {\n            run1();\n            mobile[0] = true;\n          } else if (check('counter-2') && !mobile[1]) {\n            run2();\n            mobile[1] = true;\n          } else if (check('counter-3') && !mobile[2]) {\n            run3();\n            mobile[2] = true;\n          }\n          if (mobile[0] && mobile[1] && mobile[2]) {\n            window.addEventListener('scroll', throttleScroll, false);\n          }\n        };\n      }\n    })();\n    \n    let isScrolling = false;\n    window.addEventListener('scroll', throttleScroll, false);\n    \n    //function prevents call an event more than 60 times/second\n    function throttleScroll() {\n      if (isScrolling == false) {\n        window.requestAnimationFrame(function () {\n          runNumbers();\n          isScrolling = false;\n        });\n      }\n      isScrolling = true;\n    }\n    // check if element is on a screen\n    function check(element) {\n      let el = document.getElementById(element);\n      let elementBoundary = el.getBoundingClientRect();\n\n      let bottom = elementBoundary.bottom;\n      let height = elementBoundary.height;\n      let top = elementBoundary.height;\n\n      return top + height >= 0 && height + window.innerHeight >= bottom;\n    }\n    // run animation\n    let runall = function () {\n      timer('counter-1', 721, [4, 3, 1], 3);\n      timer('counter-2', 16, [1, 1, 1], 1);\n      timer('counter-3', 84, [4, 2, 1], 4);\n    };\n\n    let run1 = function () {\n      timer('counter-1', 721, [6, 1, 1], 3);\n    };\n\n    let run2 = function () {\n      timer('counter-2', 16, [1, 1, 1], 2);\n    };\n\n    let run3 = function () {\n      timer('counter-3', 84, [4, 2, 1], 4);\n    };\n\n    //the animation \n    function timer(id, b, c, d) {\n      let numbers = document.getElementById(id);\n\n      let currentNumber = 0;\n      let maxNumber = b;\n\n      let step = c[0];\n      let steps = [b - b * 0.15, b - b * 0.09];\n\n      let duration = d;\n      let speed = (1000 * duration) / maxNumber;\n      var speed2 = (speed / maxNumber) * 3;\n\n      let fun = function () {\n        currentNumber = currentNumber + step;\n        numbers.innerText = currentNumber;\n        if (currentNumber > maxNumber) {\n          numbers.innerText = maxNumber;\n          console.log('finish');\n        } else if (currentNumber > steps[0]) {\n          step = c[1];\n          speed = speed + speed / 50;\n          setTimeout(fun, speed);\n        } else if (currentNumber > steps[1]) {\n          step = c[2];\n          speed = speed + speed;\n          setTimeout(fun, speed);\n        } else {\n          speed = speed + speed / 250;\n          setTimeout(fun, speed);\n        }\n      };\n\n      fun();\n    }\n  }\n\n"]}